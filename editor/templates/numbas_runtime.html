{% load sstatic %}
{% load raw_include %}
<!-- Numbas runtime -->
<script src="{% sstatic 'js/numbas/numbas-runtime.js' %}" type="text/javascript"></script>
<script src="{% sstatic 'js/numbas/editor-extras.js' %}" type="text/javascript"></script>
<script>
    Numbas.queueScript('localisation-resources',['i18next'],function() {
        Numbas.locale = {
            {% with preferred_locale=user.userprofile.language|default_if_none:"en-GB" %}
            preferred_locale: "{{preferred_locale}}",
            resources: {
                {% for name,locale in NUMBAS_LOCALES %}
                {% if locale == preferred_locale %}"{{locale|lower}}": {"translation":{% raw_include "js/numbas/locales/"|add:locale|add:".json" %} },{% endif %}
                {% endfor %}
            }
            {% endwith %}
        }
    });
</script>

<script src="{% sstatic 'js/numbas/marking_scripts.js' %}" type="text/javascript"></script>
<script src="{% sstatic 'js/numbas/diagnostic_scripts.js' %}" type="text/javascript"></script>
<script src="{% sstatic 'js/numbas/jme_function_hints.js' %}" type="text/javascript"></script>
